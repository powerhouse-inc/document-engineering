import { Meta, Source } from '@storybook/blocks';

<Meta title="Document Engineering/Getting started" />

# Document Engineering

The Document Engineering library provides React components and tools to simplify document workflows
and interfaces in the Powerhouse ecosystem.

# Overview

The Document Engineering library provides two main categories of components:

- **Scalar Components**: These are specialized form components, each corresponding to a GraphQL
scalar type (e.g., `String`, `Number`, `Boolean`, `Currency`, `PHID`). They are built on top of `react-hook-form`,
offering out-of-the-box validation but must be wrapped with a `Form` component in order to work properly.

  - **Location**: `@powerhousedao/document-engineering/scalars`
  - **Key Feature**: Must be used within a `<Form>` component provided by this library.

- **General-Purpose UI Components**: This category includes a broader range of UI elements such as simplified
versions of the Scalar components (which don't require a `<Form>` wrapper but lack built-in validation), as
well as other versatile components like `Dropdown`, `Tooltip`, `Sidebar`, `ObjectSetTable` and more. These are
designed for crafting diverse and complex user interfaces.

  - **Location**: `@powerhousedao/document-engineering/ui`

## Installation

To get started, install the package using your preferred package manager:

<Source language="bash" code={`
npm install @powerhousedao/document-engineering
`} />

<Source language="bash" code={`
yarn add @powerhousedao/document-engineering
`} />

<Source language="bash" code={`
pnpm add @powerhousedao/document-engineering
`} />

# Scalar Components

Scalar components are the cornerstone of form-building with this library, especially when working with `Connect`
documents.

Each Scalar component is a React component meticulously designed to correspond to a specific GraphQL scalar type. This direct mapping simplifies the development of forms that align with your `Connect` document schema â€“ simply choose the Scalar component that matches your data type.

Leveraging `react-hook-form`, these components come with built-in form validation and error handling, minimizing boilerplate and accelerating development. This allows you to construct reliable forms efficiently while maintaining clean and maintainable code.

> **Important**: Scalar components **must** be used within the `<Form>` component from `@powerhousedao/document-engineering/scalars` to function correctly. If you cannot use the `<Form>` component, consider using the equivalent, simpler input components available in the `@powerhousedao/document-engineering/ui` package (though these lack built-in form integration and validation).

> **Note**: While designed with `Connect` documents in mind, Scalar components are versatile and can be used for any form-building purpose.

# Usage Examples

## Using Scalar Components

Scalar components are accessible from the `@powerhousedao/document-engineering/scalars` path.

```tsx
import { BooleanField, Form, StringField } from '@powerhousedao/document-engineering/scalars';
import { useCallback } from 'react';

// ...

function MyForm() {
  const handleSubmit = useCallback((data: { isActive: boolean; name: string }) => {
    console.log('Form data:', data);
    // Handle form submission
  }, []);

  return (
    <Form onSubmit={handleSubmit} defaultValues={{ isActive: false, name: '' }}>
      <StringField name="name" label="Full Name" />
      <BooleanField name="isActive" label="Is Active" isToggle />
      {/* Add other Scalar fields as needed */}
      <button type="submit">Submit</button>
    </Form>
  );
}

// ...
```

## Using General-Purpose UI Components

General-purpose UI components are available under the `@powerhousedao/document-engineering/ui` path.

```tsx
import { Sidebar, SidebarProvider } from '@powerhousedao/document-engineering/ui';

// ...

<SidebarProvider nodes={/* ... */}>
  <Sidebar />
</SidebarProvider>
// ...
```
